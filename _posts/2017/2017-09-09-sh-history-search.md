---
layout: post
title:  Bashでコマンド履歴を検索する
date:   2017/09/09 00:11:00 +0900
tags:   sh
---

## コマンド履歴を逆方向検索する

Bashで`Ctrl-r`で検索モードに入ってからコマンドを入力することで以前実行したコマンドを前方一致検索することができる。

`Ctrl-r`を入力する毎に一つ前のコマンドが表示される。

`Enter`で表示されているコマンドが実行され、矢印キーを押すと現在表示されているコマンドが入力中の状態で検索モードが終了する。

```bash
$ echo 1
$ ⌃r
(reverse-i-search)`e': echo 1
```

## スクリーンロックのキーを解除する

スクリーンロックに割り当てられているキーを確認する。

```bash
stty -a
...
        stop = ^S; ...
```

`stop = ^S`であれば`Ctrl-s`が割り当てられているため下記コマンドで解除する。

```bash
stty stop undef
```

`= <undef>`になっていることを確認する。

```bash
stty -a
...
        stop = <undef>; ...
```

これを行うことで検索モードの時に`Ctrl-s`を押すと一つ後のコマンドが表示されるようになる。

Bashにログインするたびにリセットされるため`.bash_profile`に追加しておく。
